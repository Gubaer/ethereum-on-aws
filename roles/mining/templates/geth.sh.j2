#!/usr/bin/env bash
#
# start a geth instance for mining
#

geth --identity "{{ ansible_hostname }}" \
	--datadir {{ geth_data_dir }} \
	--port "30303" \
	--nodiscover \
	--ipcpath {{ geth_data_dir }}/aws-chain.ipc \
	--ipcapi "admin,db,eth,debug,miner,net,shh,txpool,personal,web3" \
	--autodag \
	--networkid {{ network_id }} \
	--nat "none" \
	--etherbase {{ geth_etherbase }} \
	--mine \
	$*
